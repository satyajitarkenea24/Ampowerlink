<page-title title="Categories" subtitle=""/>
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header border-bottom border-light">
        <div class="row justify-content-between gy-2 position-relative">
          <div class="col-lg-3">
            <div class="position-relative">
              <input type="text" class="form-control ps-4" placeholder="Search Company">
              <i class="ti ti-search position-absolute top-50 translate-middle-y ms-2"></i>
            </div>
          </div>

          <div class="col-sm-6 col-xl-4 col-xxl-3">
            <form>
              <div class="d-flex flex-wrap flex-lg-nowrap gap-2">
                <div class="flex-grow-1">
                  <select2 [data]="categoryOpts"  class="my-1 my-md-0 me-sm-3" data-toggle="select2" id="select"/>
                </div>
                <button type="button" class="btn btn-primary"><i class="ti ti-plus me-1"></i>Add Category</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="table-responsive">
        <table class="table table-hover text-nowrap mb-0">
          <thead class="bg-light-subtle">
            <tr>
              <th class="ps-3" style="width: 50px;">
                <input type="checkbox" class="form-check-input" id="customCheck1">
              </th>
              <th>Categories</th>
              <th>Average Price Range</th>
              <th>Best Selling Items</th>
              <th>Customer Rating (1-5)</th>
              <th>Discounts Available</th>
              <th>Status</th>
              <th class="text-center" style="width: 120px;">Action</th>
            </tr>
          </thead>
          <tbody>
            @for (item of categoryData; track $index) {
              <tr>
                <td class="ps-3">
                  <input type="checkbox" class="form-check-input" id="customCheck2">
                </td>
                <td>
                  <div class="d-flex justify-content-start align-items-center gap-3">
                    <div class="avatar-md">
                      <img [src]="item.image" alt="Product-1" class="img-fluid rounded-2">
                    </div>
                    <div class="d-flex flex-column">
                      <span class="fw-medium text-nowrap">{{item.category}}</span>
                      <span class="text-dark fw-semibold">Brand : <span class="fw-normal">
                        @for (item of item.brand; track $index) {
                          {{item}},
                        }
                      </span></span>
                    </div>
                  </div>
                </td>
                <td>{{currency}}{{item.averagePriceMin}} - {{currency}}{{item.averagePriceMax}}</td>
                <td> @for (item of item.sellingItems; track $index) {
                  {{item}},
                }</td>
                <td> <span class="badge p-1 bg-light text-dark fs-12 me-1"><i
                      class="ti ti-star-filled align-text-top fs-14 text-warning me-1"></i> 4.5</span></td>
                <td>{{item.discountsAvailable}}</td>
                <td>
                  <span class="badge {{item.status==='Inactive' ? 'bg-danger-subtle text-danger' : 'bg-success-subtle text-success'}} fs-12 p-1">{{item.status}}</span>
                </td>
                <td class="pe-3">
                  <div class="hstack gap-1 justify-content-end">
                    <a href="javascript:void(0);" class="btn btn-soft-primary btn-icon btn-sm rounded-circle"> <i
                        class="ti ti-eye"></i></a>
                    <a href="javascript:void(0);" class="btn btn-soft-danger btn-icon btn-sm rounded-circle"> <i
                        class="ti ti-trash"></i></a>
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>

      <div class="card-footer">
        <div class="d-flex justify-content-end">
          <ul class="pagination mb-0 justify-content-center">
            <ngb-pagination [collectionSize]="30"   [page]="page"/>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>